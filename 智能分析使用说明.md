# 党支部数据展示系统 - 智能分析功能使用说明

## 一、功能概述

智能分析功能是党支部数据展示系统的新增模块，位于"支部综合能力画像"区域下方。该功能通过数学模型和人工智能技术，对支部数据进行深度分析，提供更加直观、全面的支部能力评估。

主要功能包括：

1. **支部标签**：根据支部各维度得分，自动生成最具代表性的标签
2. **AI智能分析**：利用本地部署的大模型，对支部数据进行综合分析
3. **多维度对比**：通过雷达图和柱状图，直观展示支部与平均水平、目标水平的差距

## 二、使用前准备

### 1. 安装依赖

在使用智能分析功能前，请先安装必要的依赖：

1. 双击项目根目录下的 `install_dependencies.bat` 文件
2. 等待安装完成
3. 重新启动系统

### 2. 配置本地大模型（可选）

如需使用AI智能分析功能，请确保已在本地部署Ollama大模型：

1. 从 [Ollama官网](https://ollama.ai/) 下载并安装Ollama
2. 在命令行中运行 `ollama pull llama3` 下载模型
3. 确保Ollama服务在后台运行（默认端口为11434）

## 三、功能使用说明

### 1. 支部标签

系统会根据支部各维度得分，自动生成最具代表性的标签（最多2个）：

- **正向标签**：当某维度得分 ≥ 85分时生成，表示支部的优势
- **反向标签**：当某维度得分 ≤ 60分时生成，表示支部的不足

标签选择基于数学模型，综合考虑得分差距、维度重要性和标签代表性。

### 2. AI智能分析

点击"生成分析"按钮，系统将调用本地大模型，对支部数据进行智能分析：

- **支部综合能力评估**：对支部整体情况的简要评价
- **优势分析**：列出支部的主要优势
- **改进建议**：针对薄弱环节提出具体建议

> 注：此功能需要本地部署Ollama大模型，如未部署，将无法使用。

### 3. 多维度对比

该功能通过可视化图表，直观展示支部与平均水平、目标水平的对比：

- **雷达图对比**：从五个维度整体展示支部能力分布
- **柱状图对比**：清晰对比各维度得分差距
- **对比分析结论**：点击"生成对比分析"按钮，获取AI生成的对比分析结论

## 四、数学模型说明

系统使用的数学模型和相关文档存放在 `math` 目录下：

- `comprehensive_model.svg`：综合评分模型
- `indicator_system.svg`：指标体系
- `branch_labels.svg`：标签体系
- `label_score_mapping_updated.svg`：标签与分数对应关系
- `label_selection_model.svg`：标签选择模型
- `calculation_formulas.svg`：计算公式
- `intelligent_analysis_design.svg`：智能分析区域设计
- `ai_integration.svg`：AI集成方案

## 五、注意事项

1. 标签展示规则已更新，每个支部仅展示2个最具代表性的标签
2. AI分析功能依赖本地部署的Ollama大模型，如未部署将无法使用
3. 系统保持原有的三个区域布局不变，新功能仅在"支部综合能力画像"区域下方添加
4. 如遇到问题，请检查网络连接和Ollama服务是否正常运行

## 六、联系与支持

如有任何问题或建议，请联系系统管理员。
